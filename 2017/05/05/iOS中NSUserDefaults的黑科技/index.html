<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>iOSä¸­NSUserDefaultsçš„é»‘ç§‘æŠ€ | Dark Angel</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="/css/style.css" />
  <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/8.5/styles/github.min.css">
  <meta name="generator" content="Dark Angel">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  

  
</head>

<!--
<body class="post-template">
-->
<body class="home-template">
<div id="perspective" class="perspective effect-movedown">
  <div class="container">
    <!-- wrapper -->
    <div class="wrapper">

      <header class="site-head"  style="background: #24282b url(/img/img-bg.jpg) center; background-size: cover" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="/img/avatar.jpg" alt="Blog Logo"/></a> 
            <h1 class="blog-title">Dark Angel</h1>
            <h2 class="blog-description"><button id="showMenu">Show Menu</button></h2>
        </div>
    </div>
</header>

      

<main class="content" role="main">
  <article class="post">
    <span class="post-meta">
      <time datetime="2017-05-05T04:18:12.000Z" itemprop="datePublished">
          2017-05-05
      </time>
    
    
    | 
    <a href='/tags/iOSæŠ€æœ¯åˆ†äº«/'>iOSæŠ€æœ¯åˆ†äº«</a>
    
    
</span>
    <h1 class="post-title">iOSä¸­NSUserDefaultsçš„é»‘ç§‘æŠ€</h1>
    <span id="busuanzi_value_page_pv"></span>æ¬¡é˜…è¯»
    <span class="ds-thread-count" data-thread-key="2017/05/05/iOSä¸­NSUserDefaultsçš„é»‘ç§‘æŠ€/"></span>
    <section class="post-content">
     	
              <div id="toc" class="toc-article">
                <strong class="toc-title">æœ¬æ–‡ç›®å½•</strong>
                <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#å‰è¨€"><span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#NSUserDefaultsç®€ä»‹"><span class="toc-text">NSUserDefaultsç®€ä»‹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#é»‘ç§‘æŠ€"><span class="toc-text">é»‘ç§‘æŠ€</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#è¿˜åŸé»˜è®¤å€¼"><span class="toc-text">è¿˜åŸé»˜è®¤å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å·§ç”¨SuiteName"><span class="toc-text">å·§ç”¨SuiteName</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#App-Groupsæ•°æ®å…±äº«"><span class="toc-text">App Groupsæ•°æ®å…±äº«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è¶…å¾®å‹ç®€å•æ–¹ä¾¿æ˜“ç”¨æ•°æ®åº“"><span class="toc-text">è¶…å¾®å‹ç®€å•æ–¹ä¾¿æ˜“ç”¨æ•°æ®åº“</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æ€»ç»“"><span class="toc-text">æ€»ç»“</span></a></li></ol>
              </div>
            
	 <h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨iOSå¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ—¶å¸¸éœ€è¦ä¿å­˜ä¸€äº›æ•°æ®ï¼Œæˆ–è€…å¸Œæœ›åœ¨ç”¨æˆ·ä¸‹æ¬¡æ‰“å¼€Appæ—¶ï¼Œä¾ç„¶å¯ä»¥ä¿ç•™ä¸€äº›è®¾ç½®ç­‰ï¼Œæ¯”å¦‚<strong>ä¸»é¢˜è®¾ç½®</strong>ã€<strong>è¯­è¨€è®¾ç½®</strong>ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€èˆ¬ä¼šé€‰æ‹©ä½¿ç”¨<code>NSUserDefaults</code>ä½œä¸ºè½»é‡çº§æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆã€‚è¿™é‡Œä¸å¯¹å…¶ä»–çš„æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆï¼ˆå¦‚Plistã€å½’æ¡£ã€Sqlite3ã€CoreDataç­‰ï¼‰è¿›è¡Œæ¢è®¨ï¼Œä¸»è¦æ¥ä»‹ç»ä¸€ä¸‹<code>NSUserDefaults</code>ä¸­çš„ä¸€äº›é»‘ç§‘æŠ€ã€‚</p>
<h1 id="NSUserDefaultsç®€ä»‹"><a href="#NSUserDefaultsç®€ä»‹" class="headerlink" title="NSUserDefaultsç®€ä»‹"></a>NSUserDefaultsç®€ä»‹</h1><p><code>NSUserDefaults</code>åœ¨Foundationæ¡†æ¶ä¸­è¢«å®šä¹‰ï¼Œç”¨æ¥å­˜å‚¨å’Œè¯»å–ä¸€äº›è½»é‡çº§æ•°æ®ã€‚å…¶æœ¬è´¨æ˜¯æ“ä½œplistæ–‡ä»¶ã€‚</p>
<p>å®ƒæ¯”å…¶ä»–æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆçš„ä¼˜ç‚¹åœ¨äºï¼š</p>
<ul>
<li>è½»é‡çº§ã€‚</li>
<li>æ–¹ä¾¿å¿«æ·ç›´æ¥ä½¿ç”¨ã€‚</li>
<li>æ”¯æŒ<code>NSData</code>, <code>NSString</code>, <code>NSNumber</code>, <code>NSDate</code>, <code>NSArray</code> and  <code>NSDictionary</code>ã€‚</li>
</ul>
<p>ç¼ºç‚¹åœ¨äºï¼š</p>
<ul>
<li>ä¸é€‚åˆå¤§é‡æ•°æ®ã€‚</li>
<li>æ— æ³•å­˜å‚¨è‡ªå®šä¹‰<code>model</code>ã€‚</li>
</ul>
<h1 id="é»‘ç§‘æŠ€"><a href="#é»‘ç§‘æŠ€" class="headerlink" title="é»‘ç§‘æŠ€"></a>é»‘ç§‘æŠ€</h1><p>ä¸€äº›<code>NSUserDefaults</code>æœ€åŸºç¡€çš„ç”¨æ³•ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚è¯´åˆ°é»‘ç§‘æŠ€ï¼Œä¸€èˆ¬æŒ‡çš„æ˜¯é²œä¸ºäººçŸ¥è€Œåˆååˆ†å‰å®³çš„æŠ€æœ¯ã€‚è¿™é‡Œä¸»è¦ä»‹ç»ä¸¤ä¸ªé»‘ç§‘æŠ€ã€‚</p>
<h2 id="è¿˜åŸé»˜è®¤å€¼"><a href="#è¿˜åŸé»˜è®¤å€¼" class="headerlink" title="è¿˜åŸé»˜è®¤å€¼"></a>è¿˜åŸé»˜è®¤å€¼</h2><p>ä¸€èˆ¬<code>NSUserDefaults</code>ä½¿ç”¨ï¼Œéƒ½ä¼šä¿å­˜ä¸€äº›è‡ªå®šä¹‰çš„Keyå’ŒValueï¼Œå…¶å®è¿™ä¸ªä¸æ¶‰åŠè¿˜åŸé»˜è®¤å€¼çš„é—®é¢˜ã€‚å…¶å®æœ‰äº›æ—¶å€™ï¼Œæ˜¯éœ€è¦ä¿®æ”¹å…¶ä¸­çš„ç³»ç»Ÿé»˜è®¤å€¼çš„ã€‚æ¯”å¦‚åº”ç”¨å†…åˆ‡æ¢ä¸­è‹±æ–‡ï¼Œå°±éœ€è¦ä¿®æ”¹<code>AppleLanguages</code>çš„valueã€‚æ—¢ç„¶ä¿®æ”¹äº†ç³»ç»Ÿé»˜è®¤å€¼ï¼Œæ€ä¹ˆè¿˜åŸé»˜è®¤å€¼å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä¿®æ”¹å‰çš„ï¼š</p>
<pre><code>po [NSUserDefaults standardUserDefaults].dictionaryRepresentation

{
    ...
    AppleLanguages =     (
        en,
        &quot;zh-Hans-US&quot;
    );
    AppleLocale = &quot;en_US&quot;;
    ...
}
</code></pre><p>å¯ä»¥çœ‹åˆ°<code>AppleLanguages</code>å¯¹åº”çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœæˆ‘ä»¬åœ¨Appå†…æƒ³åˆ‡æ¢æˆä¸­æ–‡ï¼Œæ‰§è¡Œ</p>
<pre><code class="objective-c">[[NSUserDefaults standardUserDefaults] setObject:@[@&quot;zh-Hans&quot;] forKey:@&quot;AppleLanguages&quot;];
</code></pre>
<p>å†æ¬¡çœ‹ä¸‹ä¿®æ”¹å</p>
<pre><code>po [NSUserDefaults standardUserDefaults].dictionaryRepresentation

{
    ...
    AppleLanguages =     (
        zh-Hans
    );
    AppleLocale = &quot;en_US&quot;;
    ...
}
</code></pre><p>å¥½å§ï¼Œè¿™ä¸ª<code>AppleLanguages</code>å­—æ®µçš„å€¼å·²ç»è¢«è®°å½•äº†ã€‚è¿™æ—¶å€™ï¼Œkillå®¢æˆ·ç«¯ï¼Œé‡æ–°æ‰“å¼€å®¢æˆ·ç«¯ï¼Œå‘ç°ï¼Œè¿™ä¸ªå€¼è‚¯å®šä¸ä¼šå˜ã€‚é‚£ä¹ˆå¦‚æœè¿™ä¸ªæ—¶å€™ç”¨æˆ·åœ¨ç³»ç»Ÿè®¾ç½®ä¸­åˆ‡æ¢åˆ°äº†æ—¥è¯­ï¼Œé‚£ä¹ˆæˆ‘æƒ³åœ¨å®¢æˆ·ç«¯ä¸­é€šè¿‡<strong>è·Ÿéšæ‰‹æœºç³»ç»Ÿ</strong>çš„è®¾ç½®ï¼Œè¿˜åŸåˆ°æ—¥è¯­ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>æˆ–è®¸ä½ ä¼šæƒ³åˆ°è®°å½•åˆå§‹å€¼ï¼Œåªè¦æå‰è®°å½•ï¼Œåœ¨è¿˜åŸæ—¶å†setå›å»å°±å¯ä»¥äº†ã€‚å—¯~æ²¡æ¯›ç—…ï¼Œå¯æ˜¯åœ¨ä»€ä¹ˆåœ°æ–¹ä»€ä¹ˆæ—¶å€™è®°å½•åˆå§‹å€¼å‘¢ï¼Ÿè¿™ä¸ª<code>AppleLanguages</code>å­—æ®µå…¶å®å°±æ˜¯ç³»ç»Ÿçš„è¯­è¨€é»˜è®¤å€¼ï¼Œä½ å·²ç»æŠŠå®ƒæ”¹è¿‡äº†ï¼Œå¦‚æœåœ¨ä½ æ”¹è¿‡ä¹‹åç”¨æˆ·åˆä¿®æ”¹äº†ç³»ç»Ÿè¯­è¨€ï¼Œé‚£ä½ æ˜¯æ‹¿ä¸åˆ°æ–°é»˜è®¤å€¼çš„ï¼Œæ‰€ä»¥è¿™æ¡è·¯æ˜¯èµ°ä¸é€šçš„ã€‚</p>
<p>é‚£æ€ä¹ˆå®ç°è¿˜åŸé»˜è®¤å€¼å‘¢ï¼Ÿçœ‹ä¸‹è¿™ä¸ªæ–¹æ³•ï¼š</p>
<pre><code>/*!
 -setObject:forKey: immediately stores a value (or removes the value if nil is passed as the value) for the provided key in the search list entry for the receiver&#39;s suite name in the current user and any host, then asynchronously stores the value persistently, where it is made available to other processes.
 */
- (void)setObject:(nullable id)value forKey:(NSString *)defaultName;
</code></pre><p>è¿™ä¸ªæ–¹æ³•Documentä¸­å¹¶æ²¡æœ‰æè¿°è¿‡å¤šï¼ŒåŸºæœ¬éƒ½æ˜¯åœ¨å¼ºè°ƒ<code>value</code>å¿…é¡»æ˜¯<code>NSData</code>, <code>NSString</code>, <code>NSNumber</code>, <code>NSDate</code>, <code>NSArray</code> and  <code>NSDictionary</code>ä¸­çš„ä¸€ç§ï¼Œä¸”<code>NSArray</code> and  <code>NSDictionary</code>ä¸­çš„å€¼ä¹Ÿå¿…é¡»æ˜¯Plistæ”¯æŒçš„ç±»å‹ã€‚åœ¨æ³¨é‡Šä¸­æœ‰å¼ºè°ƒï¼Œ<code>removes the value if nil is passed as the value</code>ï¼Œä¼ nilç­‰åŒäºåˆ é™¤è¿™ä¸ªé”®å€¼å¯¹ã€‚</p>
<pre><code>/// -removeObjectForKey: is equivalent to -[... setObject:nil forKey:defaultName]
- (void)removeObjectForKey:(NSString *)defaultName;
</code></pre><p>å…¶å®è¿™é‡Œæ‰æ˜¯å…³é”®</p>
<pre><code>[[NSUserDefaults standardUserDefaults] setObject:nil forKey:@&quot;AppleLanguages&quot;];
//or
[[NSUserDefaults standardUserDefaults] removeObjectForKey:@&quot;AppleLanguages&quot;];
</code></pre><p>ç„¶åå†æ¬¡</p>
<pre><code>po [NSUserDefaults standardUserDefaults].dictionaryRepresentation

{
    ...
    AppleLanguages =     (
        en,
        &quot;zh-Hans-US&quot;
    );
    AppleLocale = &quot;en_US&quot;;
    ...
}
</code></pre><p>ä½ ä¼šå‘ç°ï¼ŒWTFï¼Œå±…ç„¶è¿™ä¸ªå­—æ®µè¿˜å­˜åœ¨ï¼Œä¸”è¿˜åŸæˆäº†é»˜è®¤å€¼ï¼Œå‰å®³äº†wordå“¥ã€‚æœ¬æ–¹æ³•æ˜¯æœ¬äººå†ç»å„ç§å‘ä¹‹åå‘ç°çš„ï¼Œä¸”å®˜æ–¹æ–‡æ¡£ä¸­æ²¡æœ‰ä»»ä½•æåŠï¼Œåªèƒ½è¯´Appleçˆ¸çˆ¸ä»»æ€§ã€‚</p>
<h2 id="å·§ç”¨SuiteName"><a href="#å·§ç”¨SuiteName" class="headerlink" title="å·§ç”¨SuiteName"></a>å·§ç”¨SuiteName</h2><pre><code>- (nullable instancetype)initWithSuiteName:(nullable NSString *)suitename NS_AVAILABLE(10_9, 7_0) NS_DESIGNATED_INITIALIZER;
</code></pre><p>è¿™ä¸ªæ–¹æ³•ï¼Œæƒ³å¿…å„ä½ä¸ä¼šé™Œç”Ÿï¼Œåœ¨è·¨Appé—´é€šä¿¡æˆ–è€…ä¸»Appä¸Extensionå…±äº«æ•°æ®ï¼Œéƒ½ä¼šç”¨åˆ°ï¼Œä¸€èˆ¬é…åˆä½¿ç”¨çš„æ˜¯<strong>App Groups</strong>ã€‚</p>
<h3 id="App-Groupsæ•°æ®å…±äº«"><a href="#App-Groupsæ•°æ®å…±äº«" class="headerlink" title="App Groupsæ•°æ®å…±äº«"></a>App Groupsæ•°æ®å…±äº«</h3><p>åœ¨App Groupsä¸­ä½¿ç”¨ï¼Œä¸€èˆ¬ä¸¤ä¸ªAppéƒ½éœ€è¦åŠ å…¥åŒä¸€ä¸ªGroupã€‚<img src="http://ww1.sinaimg.cn/large/006tNbRwly1ffajfof2qdj30x00cqjsl.jpg" alt="">ç„¶ååœ¨ä¸¤ä¸ªAppåˆ†åˆ«ä½¿ç”¨</p>
<pre><code class="objective-c">- (NSUserDefaults *)userDefaults
{
    return [[NSUserDefaults alloc] initWithSuiteName:@&quot;group.urwork.autosignin&quot;];    //nameéœ€è¦æ˜¯Groupçš„id
}
</code></pre>
<p>æ¥å­˜å‚¨å’Œè¯»å–æ•°æ®ï¼Œå³å¯å®ç°æ•°æ®å…±äº«ã€‚</p>
<h3 id="è¶…å¾®å‹ç®€å•æ–¹ä¾¿æ˜“ç”¨æ•°æ®åº“"><a href="#è¶…å¾®å‹ç®€å•æ–¹ä¾¿æ˜“ç”¨æ•°æ®åº“" class="headerlink" title="è¶…å¾®å‹ç®€å•æ–¹ä¾¿æ˜“ç”¨æ•°æ®åº“"></a>è¶…å¾®å‹ç®€å•æ–¹ä¾¿æ˜“ç”¨æ•°æ®åº“</h3><p>è¿™é‡Œï¼Œå…¶å®ä¸»è¦ä»‹ç»ä¸€ä¸‹<code>initWithSuiteName:</code>çš„å¦ä¸€ä¸ªç”¨é€”ï¼Œæˆ‘ç§°ä¹‹ä¸º<strong>è¶…å¾®å‹ç®€å•æ–¹ä¾¿æ˜“ç”¨æ•°æ®åº“</strong>ã€‚</p>
<p><strong>éœ€æ±‚</strong>ï¼šåå°åŒå­¦æœ€è¿‘å¤ªå¿™ï¼ˆğŸ˜³è¿™ä¸æ˜¯ç†ç”±ï¼‰ï¼Œéœ€è¦å®¢æˆ·ç«¯åŒå­¦ä¸´æ—¶å¼€å‘ä¸€ä¸ªæœ¬åœ°çš„æµè§ˆå†å²åŠŸèƒ½ã€‚ç®€å•çš„è¯´å°±æ˜¯åœ¨å®¢æˆ·ç«¯æœ¬åœ°ä¿å­˜æ¯ä¸ªç”¨æˆ·æµè§ˆçš„æ–‡ç« è®°å½•ã€‚</p>
<p><strong>åç³Ÿ</strong>ï¼šå¥½å§ï¼Œæ—¶é—´ç´§ï¼Œä»»åŠ¡é‡ï¼ŒåŠŸèƒ½å…ˆä¸Šçº¿ï¼Œåç»­å†ä¼˜åŒ–å·²ç»æ˜¯ä¸€ä¸ªä¹ æƒ¯äº†ğŸ˜³ã€‚</p>
<p><strong>å®ç°æ–¹æ¡ˆ</strong>ï¼šç®€å•ï¼Œæœ¬åœ°å­˜ä¸ªå­—å…¸ï¼ˆæˆ–è€…Plistæ–‡ä»¶ï¼‰ï¼Œæ¯ä¸ªkeyæ˜¯ä¸€ä¸ªç”¨æˆ·idï¼Œvalueæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œçš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œè¿™ä¸ªå­—å…¸é‡Œæœ‰<code>articleId</code>ã€<code>title</code>ã€<code>imgUrl</code>ã€<code>...</code>ã€‚ç»“æ„å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<pre><code>{
  &quot;10086&quot; : [
    {
      &quot;articleId&quot; : 1,
      &quot;imgUrl&quot; : &quot;https://img.xxx.com/abcdefg.png&quot;,
      &quot;title&quot; : &quot;ä¸­å›½å†å²&quot;,
      ...
    },
    {
      &quot;articleId&quot; : 2,
      &quot;imgUrl&quot; : &quot;https://img.xxx.com/abcdefg.png&quot;,
      &quot;title&quot; : &quot;ä¸­å›½æ•™è‚²&quot;,
      ...
    },
    ...
  ],
  &quot;10087&quot; : [
    {
      &quot;articleId&quot; : 2,
      &quot;imgUrl&quot; : &quot;https://img.xxx.com/abcdefg.png&quot;,
      &quot;title&quot; : &quot;ä¸­å›½æ•™è‚²&quot;,
      ...
    },
    ...
  ]
}
</code></pre><p>çœ‹èµ·æ¥OKï¼Œä½†æ˜¯å°ä¼™ä¼´ä»¬ï¼Œæ€§èƒ½é—®é¢˜è¿˜æ˜¯è¦è€ƒè™‘çš„ã€‚æˆ‘æƒ³è·å–æŸä¸ªç”¨æˆ·çš„æµè§ˆå†å²ï¼Œéœ€è¦æŠŠæ–‡ä»¶æ•´ä½“è¯»åˆ°å†…å­˜ä¸­ï¼Œç„¶åç”¨<code>dict[@&quot;10086&quot;]</code>çš„æ–¹æ³•ï¼Œå¾—åˆ°è¿™ä¸ªç”¨æˆ·çš„æµè§ˆå†å²<code>Array</code>ï¼Œç”¨æˆ·å°‘è¿˜å¥½ï¼Œå¤šäº†ï¼Œæ¯æ¬¡è¯»å–çš„IOæ“ä½œä¼šå¾ˆè€—æ—¶ï¼Œå¯¹æ€§èƒ½æœ‰å½±å“ã€‚</p>
<p>å¯èƒ½ä½ ä¼šè¯´ç”¨æ•°æ®åº“å•Šä»€ä¹ˆçš„ï¼Œå½“ç„¶å¯ä»¥ï¼Œä½†æ˜¯åˆæ˜¯éœ€è¦ä¾èµ–ä¸€å †ç¬¬ä¸‰æ–¹ï¼Œè¿˜è¦å†™å¥½å¤šä»£ç ï¼Œåˆ›å»ºå¥½å¤šç±»ã€‚æˆ‘å°±æ˜¯æƒ³ç®€å•å®ç°ä¸€ä¸‹ï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•å‘¢ï¼Ÿå½“ç„¶æœ‰ï¼Œ<strong>è¶…å¾®å‹ç®€å•æ–¹ä¾¿æ˜“ç”¨æ•°æ®åº“</strong>ã€‚</p>
<p>æ¯ä¸ªç”¨æˆ·éƒ½å¯ä»¥ç”¨ä¸€ä¸ª<code>NSUserDefaults</code>æ¥ä»£æ›¿ï¼Œæ¯ä¸ªç”¨æˆ·çš„æµè§ˆå†å²ï¼Œå¯ä»¥ç›´æ¥ç”¨<code>setObject:forKey:</code>çš„æ–¹å¼æ¥å­˜å‚¨ï¼Œå¦‚ï¼š</p>
<pre><code class="objective-c">//è¿™ä¸ªè·ŸApp Groupsæ²¡æœ‰å…³ç³»
//å·²æœ‰åˆ™è¯»å–ï¼Œæ²¡æœ‰åˆ™åˆ›å»º
NSUserDefaults *userDefaults = [[NSUserDefaults alloc] initWithSuiteName:@&quot;10086&quot;];
//å­˜å‚¨
[userDefaults setObject:history forKey:@&quot;ArticleBrowsingHistory&quot;];
//è¯»å–
NSArray *history = [userDefaults objectForKey:@&quot;ArticleBrowsingHistory&quot;];
</code></pre>
<p>æ‰€æœ‰ç”¨æˆ·ç›¸å¯¹ç‹¬ç«‹ï¼Œæ¯ä¸ªç”¨æˆ·æ˜¯ä¸€ä¸ªplistæ–‡ä»¶ï¼Œåœ¨æ²™ç›’ç›®å½•<code>/Library/Preferences/</code>ä¸­ï¼Œ<img src="http://ww2.sinaimg.cn/large/006tNbRwly1ffalfnmhudj30z007kab7.jpg" alt="">æƒ³åˆ é™¤ä¹Ÿå¾ˆå®¹æ˜“ï¼Œç›´æ¥åˆ é™¤è¿™ä¸ªæ–‡ä»¶å³å¯ã€‚</p>
<p>å…¶å®è¿™ä¸ª<strong>è¶…å¾®å‹ç®€å•æ–¹ä¾¿æ˜“ç”¨æ•°æ®åº“</strong>è¿˜å¯ä»¥å®ç°å¥½å¤šåŠŸèƒ½ï¼Œçœ‹ä½ æ€ä¹ˆæ“ä½œäº†ã€‚å¦‚æœä½ çš„Appæ²¡æœ‰åå°ï¼Œä¸åŒç”¨æˆ·çš„ä¸»é¢˜è®¾ç½®ã€è¯­è¨€è®¾ç½®å¯èƒ½ä¸åŒï¼Œéƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªæ¥å­˜å‚¨ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å…¶å®å¾ˆå¤šæˆ‘ä»¬å¾ˆå¸¸ç”¨çš„ä¸œè¥¿éƒ½æœ‰å¾ˆå¤šæˆ‘ä»¬æœªå‘æ˜å‡ºçš„ç”¨é€”ï¼Œç”Ÿæ´»ä¹Ÿæ˜¯åŒæ ·ï¼Œå­¦ä¼šå‘ç°ï¼Œä¸€åˆ‡ä¼šæ›´ç¾å¥½ã€‚</p>

    </section>
    <footer class="post-footer">
      <section class="author">
    <h4>Dark Angel</h4>
    <p>iOSç•Œçš„ä½è°ƒæ¢ç´¢è€…</p>
</section>
    <div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_qzone" data-cmd="qzone"></a><a href="#" class="bds_tsina" data-cmd="tsina"></a><a href="#" class="bds_tqq" data-cmd="tqq"></a><a href="#" class="bds_renren" data-cmd="renren"></a><a href="#" class="bds_weixin" data-cmd="weixin"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdPic":"","bdStyle":"0","bdSize":"16"},"share":{},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"åˆ†äº«åˆ°ï¼š","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["qzone","tsina","tqq","renren","weixin"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
    </footer>
  </article>
  <nav class="pagination" role="pagination">
    
    <span class="icon-logo">â€¢</span>
    
    <a class="older-posts" href="/2017/05/04/åœ¨iOSAppå†…ä¼˜é›…çš„åŠ¨æ€åˆ‡æ¢è¯­è¨€/">
        åœ¨iOS Appå†…ä¼˜é›…çš„åŠ¨æ€åˆ‡æ¢è¯­è¨€ â†’
    </a>
    
</nav>

  <div id="comment" class="comments-area">
    
    	<!-- å¤šè¯´è¯„è®ºæ¡† start -->
ã€€	<div class="ds-thread" data-thread-key="2017/05/05/iOSä¸­NSUserDefaultsçš„é»‘ç§‘æŠ€/" data-title="iOSä¸­NSUserDefaultsçš„é»‘ç§‘æŠ€" data-url="http://blog.darkangel7.com/2017/05/05/iOSä¸­NSUserDefaultsçš„é»‘ç§‘æŠ€/" data-auth-key="1"</div>	
	<!-- å¤šè¯´è¯„è®ºæ¡† end -->
	<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
	<script type="text/javascript">
		var duoshuoQuery = {short_name:"darkangel"};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0] 
		 	|| document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
	</script>
	<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->
    
</div>

</main>


      
<footer class="site-footer">
  
  <a class="subscribe icon-feed" href="/atom.xml"><span class="tooltip">Subscribe!</span></a>
  
  <div class="inner">
     <section class="copyright">åŸåˆ›æ–‡ç« ï¼Œç‰ˆæƒå£°æ˜ï¼šç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 2.5</section>
     <section class="copyright"><a href="/">Dark Angel</a> &copy; 2016 &bull; All Rights Reserved.</section>
     <section class="poweredby">Powered By Hexo</section>
  </div>
</footer>

      <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/8.5/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>
<script type="text/javascript" src="/js/menu.js"></script>





  </div>
</div>

<nav  class="outer-nav top horizontal">

          <a class="icon-home"  href="/"><span>Home</span></a>

          <a class="default"  href="/tags"><span>Tag</span></a>

          <a class="icon-news"  href="/archives"><span>Archive</span></a>

          <a class="icon-wiki"  href="https://github.com/DarkAngel7"><span>Github</span></a>

          <a class="icon-Favorites"  href="/atom.xml"><span>Rss</span></a>

</nav>

</div>
</body>
</html>
